{"ast":null,"code":"import React from'react';import{useContext,useState,useEffect,useRef}from'react';import Topbar from\"../../components/topbar/Topbar\";import Sidebar from\"../../components/sidebar/Sidebar\";import Feed from\"../../components/feed/Feed\";import Rightbar from\"../../components/rightbar/Rightbar\";import axios from\"axios\";import{Link}from\"react-router-dom\";import{AuthContext}from\"../../context/AuthContext\";import{useParams}from'react-router';import{withStyles}from'@material-ui/core/styles';import{styles}from'./followersPageStyle';import{useMediaQuery}from'react-responsive';//import User from '../../../../server/models/User';\nimport{COLORS}from'../../components/values/colors.js';import TimeMe from\"timeme.js\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function FollowersPage(_ref){let{username,classes}=_ref;const[user,setUser]=useState({});const{user:currentUser}=useContext(AuthContext);const PF=process.env.REACT_APP_PUBLIC_FOLDER;const[friends,setFriends]=useState([]);const isMobileDevice=useMediaQuery({query:\"(min-device-width: 480px)\"});const isTabletDevice=useMediaQuery({query:\"(min-device-width: 768px)\"});const[shouldSendEvent,setShouldSendEvent]=useState(false);useEffect(()=>{const token=localStorage.getItem('token');const getFriends=async()=>{try{const friendList=await axios.get(\"/users/followers/\"+currentUser._id,{headers:{'auth-token':token}});setFriends(friendList.data);}catch(err){console.log(err);}};getFriends();},[currentUser]);/* useEffect(() => {\n        TimeMe.initialize({\n          currentPageName: \"FollowersPage\", // current page\n          idleTimeoutInSeconds: 15 // seconds\n          });\n      \n          TimeMe.callWhenUserLeaves(() => {\n          setShouldSendEvent(true);\n          });\n        \n          TimeMe.callWhenUserReturns(() => {\n          setShouldSendEvent(false);\n          });\n      \n        }, []);*/return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Topbar,{isProfile:\"true\"}),/*#__PURE__*/_jsx(\"div\",{className:classes.followingPageTop,style:{'backgroundColor':COLORS.backgroudColor},children:/*#__PURE__*/_jsxs(\"div\",{className:classes.followingPageWrapper,children:[/*#__PURE__*/_jsx(\"h4\",{className:classes.rightbarTitle,children:\"FOLLOWERS\"}),/*#__PURE__*/_jsx(\"div\",{className:classes.rightbarFollowings,children:friends.map(friend=>/*#__PURE__*/_jsx(Link,{to:\"/profile/\"+friend.username,className:classes.linkToFriendProfile,children:/*#__PURE__*/_jsxs(\"div\",{className:classes.rightbarFollowing,children:[/*#__PURE__*/_jsx(\"img\",{src:friend.profilePicture?PF+friend.profilePicture:PF+'person/noAvatar.png',alt:\"\",className:classes.rightbarFollowingImg}),/*#__PURE__*/_jsx(\"span\",{className:classes.rightbarFollowingName,children:friend.username})]})},friend._id))})]})})]});}export default withStyles(styles)(FollowersPage);","map":{"version":3,"names":["React","useContext","useState","useEffect","useRef","Topbar","Sidebar","Feed","Rightbar","axios","Link","AuthContext","useParams","withStyles","styles","useMediaQuery","COLORS","TimeMe","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","FollowersPage","_ref","username","classes","user","setUser","currentUser","PF","process","env","REACT_APP_PUBLIC_FOLDER","friends","setFriends","isMobileDevice","query","isTabletDevice","shouldSendEvent","setShouldSendEvent","token","localStorage","getItem","getFriends","friendList","get","_id","headers","data","err","console","log","children","isProfile","className","followingPageTop","style","backgroudColor","followingPageWrapper","rightbarTitle","rightbarFollowings","map","friend","to","linkToFriendProfile","rightbarFollowing","src","profilePicture","alt","rightbarFollowingImg","rightbarFollowingName"],"sources":["/home/group4/TWON_STA_Case_Study/client/src/pages/Followers/FollowersPage.js"],"sourcesContent":["import React from 'react';\nimport {useContext, useState, useEffect, useRef} from 'react';\nimport Topbar from \"../../components/topbar/Topbar\";\nimport Sidebar from \"../../components/sidebar/Sidebar\";\nimport Feed from \"../../components/feed/Feed\";\nimport Rightbar from \"../../components/rightbar/Rightbar\";\nimport axios from \"axios\";\nimport { Link } from \"react-router-dom\";\nimport { AuthContext } from \"../../context/AuthContext\";\nimport { useParams } from 'react-router';\nimport { withStyles } from '@material-ui/core/styles';\nimport {styles} from './followersPageStyle';\nimport { useMediaQuery } from 'react-responsive';\n//import User from '../../../../server/models/User';\nimport {COLORS} from '../../components/values/colors.js';\nimport TimeMe from \"timeme.js\";\n\nfunction FollowersPage({ username, classes }) {\n    const [user, setUser] = useState({});\n    const { user: currentUser } = useContext(AuthContext);\n    const PF = process.env.REACT_APP_PUBLIC_FOLDER;\n    const [friends, setFriends] = useState([]);\n    const isMobileDevice = useMediaQuery({ query: \"(min-device-width: 480px)\", });\n    const isTabletDevice = useMediaQuery({ query: \"(min-device-width: 768px)\", });\n    const [shouldSendEvent, setShouldSendEvent] = useState(false);\n\n    useEffect(() => {\n      const token = localStorage.getItem('token');\n        const getFriends = async () => {\n          try {\n            const friendList = await axios.get(\"/users/followers/\" + currentUser._id, {headers: { 'auth-token': token }});\n            setFriends(friendList.data);\n          } catch (err) {\n            console.log(err);\n          }\n        };\n        getFriends();\n      }, [currentUser]);\n\n\n     /* useEffect(() => {\n        TimeMe.initialize({\n          currentPageName: \"FollowersPage\", // current page\n          idleTimeoutInSeconds: 15 // seconds\n          });\n      \n          TimeMe.callWhenUserLeaves(() => {\n          setShouldSendEvent(true);\n          });\n        \n          TimeMe.callWhenUserReturns(() => {\n          setShouldSendEvent(false);\n          });\n      \n        }, []);*/\n\n    return (\n        <>\n        <Topbar isProfile=\"true\"/>\n        <div className={classes.followingPageTop} style={{'backgroundColor': COLORS.backgroudColor}}>\n        <div className={classes.followingPageWrapper}>\n        <h4 className={classes.rightbarTitle}>FOLLOWERS</h4>\n        <div className={classes.rightbarFollowings}>\n          {friends.map((friend) => (\n            <Link\n              key={friend._id}\n              to={\"/profile/\" + friend.username}\n              className={classes.linkToFriendProfile}\n            >\n              <div className={classes.rightbarFollowing}>\n                <img\n                  src={friend.profilePicture? PF + friend.profilePicture: PF+'person/noAvatar.png'\n                  }\n                  alt=\"\"\n                  className={classes.rightbarFollowingImg}\n                />\n                <span className={classes.rightbarFollowingName}>{friend.username}</span>\n              </div>\n            </Link>\n          ))}\n        </div>\n        </div>\n        </div>\n      </>\n    )\n}\n\nexport default withStyles(styles)(FollowersPage);\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
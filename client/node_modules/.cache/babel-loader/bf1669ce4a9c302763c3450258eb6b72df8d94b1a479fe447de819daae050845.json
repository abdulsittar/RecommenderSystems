{"ast":null,"code":"import React from'react';import{Users}from\"../../dummyData\";import CloseFriend from\"../closeFriend/CloseFriend\";import{useContext,useEffect,useState}from\"react\";import{AuthContext}from\"../../context/AuthContext\";import axios from\"axios\";import Online from\"../online/Online\";import{Link}from\"react-router-dom\";import{withStyles}from'@material-ui/core/styles';import{styles}from'./sidebarStyle';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Sidebar(_ref){let{user,classes}=_ref;const PF=process.env.REACT_APP_PUBLIC_FOLDER;const[friends,setFriends]=useState([]);const{user:currentUser,dispatch}=useContext(AuthContext);useEffect(()=>{const token=localStorage.getItem('token');const getFollowers=async()=>{try{const friendList=await axios.get(\"/users/allUsers/\"+currentUser._id,{headers:{'auth-token':token}});setFriends(friendList.data);}catch(err){console.log(err);}};getFollowers();},[currentUser]);return/*#__PURE__*/_jsx(\"div\",{className:classes.sidebar,children:/*#__PURE__*/_jsxs(\"div\",{className:classes.sidebarWrapper,children:[/*#__PURE__*/_jsx(\"h4\",{className:classes.rightbarTitle,children:\"All Users\"}),/*#__PURE__*/_jsx(\"ul\",{className:classes.sidebarFriendList,children:friends.map(u=>u.isAdmin==true?null:/*#__PURE__*/_jsx(Online,{user:u},u.id))})]})});}export default withStyles(styles)(Sidebar);","map":{"version":3,"names":["React","Users","CloseFriend","useContext","useEffect","useState","AuthContext","axios","Online","Link","withStyles","styles","jsx","_jsx","jsxs","_jsxs","Sidebar","_ref","user","classes","PF","process","env","REACT_APP_PUBLIC_FOLDER","friends","setFriends","currentUser","dispatch","token","localStorage","getItem","getFollowers","friendList","get","_id","headers","data","err","console","log","className","sidebar","children","sidebarWrapper","rightbarTitle","sidebarFriendList","map","u","isAdmin","id"],"sources":["/home/group4/TWON_STA_Case_Study/client/src/components/sidebar/Sidebar.js"],"sourcesContent":["import React from 'react';\nimport { Users } from \"../../dummyData\";\nimport CloseFriend from \"../closeFriend/CloseFriend\";\nimport { useContext, useEffect, useState } from \"react\";\nimport { AuthContext } from \"../../context/AuthContext\";\nimport axios from \"axios\";\nimport Online from \"../online/Online\";\nimport { Link } from \"react-router-dom\";\nimport { withStyles } from '@material-ui/core/styles';\nimport {styles} from './sidebarStyle'\n\nfunction Sidebar({ user, classes }) {\n  const PF = process.env.REACT_APP_PUBLIC_FOLDER;\n  const [friends, setFriends] = useState([]);\n  const { user: currentUser, dispatch } = useContext(AuthContext);\n\n    useEffect(() => {\n      const token = localStorage.getItem('token');\n    const getFollowers = async () => {\n      try {\n        const friendList = await axios.get(\"/users/allUsers/\" + currentUser._id,  {headers: { 'auth-token': token }});\n        setFriends(friendList.data);\n      } catch (err) {\n        console.log(err);\n      }\n    };\n    getFollowers();\n  }, [currentUser]);\n\n\n    return (\n        <div className={classes.sidebar}>\n           <div className={classes.sidebarWrapper}>\n\n                <h4 className={classes.rightbarTitle}>All Users</h4>\n\n                <ul className={classes.sidebarFriendList}>\n                    {friends.map((u) => (\n                        u.isAdmin == true? null :<Online key={u.id} user={u} />\n                    ))}\n                </ul>\n            </div>\n        </div>\n    )\n}\n\nexport default withStyles(styles)(Sidebar);\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,KAAK,KAAQ,iBAAiB,CACvC,MAAO,CAAAC,WAAW,KAAM,4BAA4B,CACpD,OAASC,UAAU,CAAEC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CACvD,OAASC,WAAW,KAAQ,2BAA2B,CACvD,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,MAAM,KAAM,kBAAkB,CACrC,OAASC,IAAI,KAAQ,kBAAkB,CACvC,OAASC,UAAU,KAAQ,0BAA0B,CACrD,OAAQC,MAAM,KAAO,gBAAgB,QAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAErC,QAAS,CAAAC,OAAOA,CAAAC,IAAA,CAAoB,IAAnB,CAAEC,IAAI,CAAEC,OAAQ,CAAC,CAAAF,IAAA,CAChC,KAAM,CAAAG,EAAE,CAAGC,OAAO,CAACC,GAAG,CAACC,uBAAuB,CAC9C,KAAM,CAACC,OAAO,CAAEC,UAAU,CAAC,CAAGpB,QAAQ,CAAC,EAAE,CAAC,CAC1C,KAAM,CAAEa,IAAI,CAAEQ,WAAW,CAAEC,QAAS,CAAC,CAAGxB,UAAU,CAACG,WAAW,CAAC,CAE7DF,SAAS,CAAC,IAAM,CACd,KAAM,CAAAwB,KAAK,CAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAC7C,KAAM,CAAAC,YAAY,CAAG,KAAAA,CAAA,GAAY,CAC/B,GAAI,CACF,KAAM,CAAAC,UAAU,CAAG,KAAM,CAAAzB,KAAK,CAAC0B,GAAG,CAAC,kBAAkB,CAAGP,WAAW,CAACQ,GAAG,CAAG,CAACC,OAAO,CAAE,CAAE,YAAY,CAAEP,KAAM,CAAC,CAAC,CAAC,CAC7GH,UAAU,CAACO,UAAU,CAACI,IAAI,CAAC,CAC7B,CAAE,MAAOC,GAAG,CAAE,CACZC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC,CAClB,CACF,CAAC,CACDN,YAAY,CAAC,CAAC,CAChB,CAAC,CAAE,CAACL,WAAW,CAAC,CAAC,CAGf,mBACIb,IAAA,QAAK2B,SAAS,CAAErB,OAAO,CAACsB,OAAQ,CAAAC,QAAA,cAC7B3B,KAAA,QAAKyB,SAAS,CAAErB,OAAO,CAACwB,cAAe,CAAAD,QAAA,eAElC7B,IAAA,OAAI2B,SAAS,CAAErB,OAAO,CAACyB,aAAc,CAAAF,QAAA,CAAC,WAAS,CAAI,CAAC,cAEpD7B,IAAA,OAAI2B,SAAS,CAAErB,OAAO,CAAC0B,iBAAkB,CAAAH,QAAA,CACpClB,OAAO,CAACsB,GAAG,CAAEC,CAAC,EACXA,CAAC,CAACC,OAAO,EAAI,IAAI,CAAE,IAAI,cAAEnC,IAAA,CAACL,MAAM,EAAYU,IAAI,CAAE6B,CAAE,EAAdA,CAAC,CAACE,EAAc,CACzD,CAAC,CACF,CAAC,EACJ,CAAC,CACL,CAAC,CAEd,CAEA,cAAe,CAAAvC,UAAU,CAACC,MAAM,CAAC,CAACK,OAAO,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
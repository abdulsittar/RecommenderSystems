{"ast":null,"code":"import axios from'axios';async function regSw(){if('serviceWorker'in navigator){let url=process.env.PUBLIC_URL+'/sw.js';const reg=await navigator.serviceWorker.register(url,{scope:'/'});console.log('service config is',{reg});return reg;}throw Error('serviceworker not supported');}async function subscribe(serviceWorkerReg){let subscription=await serviceWorkerReg.pushManager.getSubscription();console.log({subscription});console.log(\"helper.js\");if(subscription===null){subscription=await serviceWorkerReg.pushManager.subscribe({userVisibleOnly:true,applicationServerKey:process.env.APP_SERVER_KEY});axios.post('/subscribe',subscription);}}export{regSw,subscribe};","map":{"version":3,"names":["axios","regSw","navigator","url","process","env","PUBLIC_URL","reg","serviceWorker","register","scope","console","log","Error","subscribe","serviceWorkerReg","subscription","pushManager","getSubscription","userVisibleOnly","applicationServerKey","APP_SERVER_KEY","post"],"sources":["/home/group4/TWON_STA_Case_Study/client/src/helper.js"],"sourcesContent":["import axios from 'axios';\n\nasync function regSw () {\n  if ('serviceWorker' in navigator) {\n    let url = process.env.PUBLIC_URL + '/sw.js';\n    const reg = await navigator.serviceWorker.register (url, {scope: '/'});\n    console.log ('service config is', {reg});\n    return reg;\n  }\n  throw Error ('serviceworker not supported');\n}\n\nasync function subscribe (serviceWorkerReg) {\n    let subscription = await serviceWorkerReg.pushManager.getSubscription ();\n    console.log ({subscription});\n    console.log(\"helper.js\");\n    if (subscription === null) {\n      subscription = await serviceWorkerReg.pushManager.subscribe ({\n        userVisibleOnly: true,\n        applicationServerKey: process.env.APP_SERVER_KEY,\n      });\n      axios.post ('/subscribe', subscription);\n    }\n  }\n\n  export {regSw, subscribe};"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CAEzB,cAAe,CAAAC,KAAKA,CAAA,CAAI,CACtB,GAAI,eAAe,EAAI,CAAAC,SAAS,CAAE,CAChC,GAAI,CAAAC,GAAG,CAAGC,OAAO,CAACC,GAAG,CAACC,UAAU,CAAG,QAAQ,CAC3C,KAAM,CAAAC,GAAG,CAAG,KAAM,CAAAL,SAAS,CAACM,aAAa,CAACC,QAAQ,CAAEN,GAAG,CAAE,CAACO,KAAK,CAAE,GAAG,CAAC,CAAC,CACtEC,OAAO,CAACC,GAAG,CAAE,mBAAmB,CAAE,CAACL,GAAG,CAAC,CAAC,CACxC,MAAO,CAAAA,GAAG,CACZ,CACA,KAAM,CAAAM,KAAK,CAAE,6BAA6B,CAAC,CAC7C,CAEA,cAAe,CAAAC,SAASA,CAAEC,gBAAgB,CAAE,CACxC,GAAI,CAAAC,YAAY,CAAG,KAAM,CAAAD,gBAAgB,CAACE,WAAW,CAACC,eAAe,CAAE,CAAC,CACxEP,OAAO,CAACC,GAAG,CAAE,CAACI,YAAY,CAAC,CAAC,CAC5BL,OAAO,CAACC,GAAG,CAAC,WAAW,CAAC,CACxB,GAAII,YAAY,GAAK,IAAI,CAAE,CACzBA,YAAY,CAAG,KAAM,CAAAD,gBAAgB,CAACE,WAAW,CAACH,SAAS,CAAE,CAC3DK,eAAe,CAAE,IAAI,CACrBC,oBAAoB,CAAEhB,OAAO,CAACC,GAAG,CAACgB,cACpC,CAAC,CAAC,CACFrB,KAAK,CAACsB,IAAI,CAAE,YAAY,CAAEN,YAAY,CAAC,CACzC,CACF,CAEA,OAAQf,KAAK,CAAEa,SAAS","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}